<div class="container">

  <form [formGroup]='form' (ngSubmit)='submit()'>
    <div class="alert alert-danger" *ngIf="auth.error$ | async as error">
        {{ error }}
    </div>
          <div class="form-group" [ngClass]='{invalid: form.get("email").touched && form.get("email").invalid}'>
        <label for="exampleInputEmail1">Email address</label>
        <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
          formControlName="email">
        <div *ngIf='form.get("email").touched && form.get("email").invalid' class="validation">
          <small *ngIf='form.get("email").errors.email'>Некорректный email </small>
          <small *ngIf='form.get("email").errors.required'>Поле email не должно быть пустым</small>
        </div>
        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
      </div>
      <div class="form-group" [ngClass]='{invalid: form.get("password").touched && form.get("password").invalid}'>
        <label for="exampleInputPassword1">Password</label>
        <input type="password" class="form-control" id="exampleInputPassword1" formControlName="password">
        <div class="validation" *ngIf='form.get("password").touched && form.get("password").invalid'>
          <small *ngIf='form.get("password").errors.required'>Поле "password" не должно быть пустым</small>
          <small *ngIf="form.get('password').errors.minlength">
            Длинна должна быть не менее {{form.get('password').errors.minlength.requiredLength}}.
            Сейчас количество символов {{form.get('password').errors.minlength.actualLength}}
          </small>
        </div>
      </div>

    <button type="submit" class="btn btn-primary" [disabled]='form.invalid || submited'>Войти</button>

  </form>

</div>
